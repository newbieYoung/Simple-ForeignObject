<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>页面元素直接截图测试</title>
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,viewport-fit=cover ">
  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="./page-1.css" />
  <script>
    (function (win, doc) {
      var docEl = document.documentElement;

      function setFont() {
        var cliWidth = docEl.clientWidth;
        if (cliWidth > 750) {
          cliWidth = 750;
        }
        docEl.style.fontSize = 100 * (cliWidth / 750) + 'px';
      }
      win.addEventListener('resize', setFont, false);
      setFont();
    })(window, document);
  </script>
</head>

<body>
  <div class="main-page">
    <div class="mp-head"></div>
    <div class="mp-title"></div>

    <!-- 选项 -->
    <div class="mp-options">

      <!-- 状态二 -->
      <div class="mo-card">
        <div class="mc-content">
          <p class="mc-name">1个月豪华黄钻+1次抽奖</p>
          <p class="mc-price">15</p>
        </div>
      </div>
      <div class="mo-card mo-other">
        <div class="mc-content">
          <p class="mc-name">2个月豪华黄钻+2次抽奖</p>
          <p class="mc-price">30</p>
        </div>
      </div>

      <div class="mo-btn"></div>
    </div>

    <!-- 抽奖 -->
    <div class="mp-prize">
      <div class="me-content">
        <div class="me-btn"></div>
        <p class="me-num">剩余抽奖次数：<span>2</span>次</p>
        <ul class="me-list">
          <li class="vip-year-1">
            <div class="ml-icon"></div>
            <p class="ml-name">1年豪华黄钻</p>
          </li>
          <li class="vip-month-3">
            <div class="ml-icon"></div>
            <p class="ml-name">3个月豪华黄钻</p>
          </li>
          <li class="vip-month-1">
            <div class="ml-icon"></div>
            <p class="ml-name">1个月豪华黄钻</p>
          </li>
          <li class="vip-day-15">
            <div class="ml-icon"></div>
            <p class="ml-name">15天豪华黄钻</p>
          </li>
          <li class="vip-year-10">
            <div class="ml-icon"></div>
            <p class="ml-name">十周年钻</p>
          </li>
          <li class="vip-day-7">
            <div class="ml-icon"></div>
            <p class="ml-name">7天豪华黄钻</p>
          </li>
          <li class="score-100">
            <div class="ml-icon"></div>
            <p class="ml-name">100成长值</p>
          </li>
          <li class="score-200">
            <div class="ml-icon"></div>
            <p class="ml-name">200成长值</p>
          </li>
          <li>
            <p class="ml-end">谢谢参与</p>
          </li>
        </ul>
        <div class="me-links">
          <button>收获地址</button>
          <button>获奖记录</button>
        </div>
      </div>
    </div>

    <!-- 规则 -->
    <div class="mp-rule">
      <p class="mr-title"></p>
      <ul class="mr-list">
        <li>
          <div class="mr-no">1</div>
          <p>本活动截止到期时间为2019年8月31号。</p>
        </li>
        <li>
          <div class="mr-no">2</div>
          <p>本页面活动，剩余时长≤3个月的豪华黄钻用户购买豪华黄钻，享第2个月半价优惠，一个用户只能参与一次。</p>
        </li>
        <li>
          <div class="mr-no">3</div>
          <p>剩余时长＞3个月的豪华黄钻用户，可原价购买。</p>
        </li>
        <li>
          <div class="mr-no">4</div>
          <p>每购买1个月豪华黄钻，即送1次抽奖机会。</p>
        </li>
        <li>
          <div class="mr-no">5</div>
          <p>虚拟奖品发放：用户抽奖所得的豪华黄钻天数、成长值、翻倍卡等虚拟奖品将实时发放至用户账户。</p>
        </li>
        <li>
          <div class="mr-no">6</div>
          <p>实体奖品发放：实体奖品包括十周年钻（奖品数量有限，先到先得），腾讯可随时调整奖品种类，具体奖品以实际发放为准。</p>
        </li>
        <li>
          <div class="mr-no">7</div>
          <p>
            若用户抽中实物奖品，应在中奖后7日内在本页面填写真实且正确的个人信息（身份证号码、联系地址、电话号码、QQ号等），黄钻团队会在本次活动结束2个月后统一发货，由于用户未及时提供相应信息或信息不真实、不完整导致的资格取消、奖品无法发放或者发放错误等一切后果，由用户自行承担。
          </p>
        </li>
        <li>
          <div class="mr-no">8</div>
          <p>由于不可抗拒因素、网络问题、作弊等非腾讯公司原因导致活动出现异常情况，腾讯公司有权采取调整、暂停等措施。</p>
        </li>
        <li>
          <div class="mr-no">9</div>
          <p>黄钻、豪华黄钻手机话费用户暂时不能参与该活动；IOS用户暂不能参与本活动。</p>
        </li>
        <li>
          <div class="mr-no">10</div>
          <p>在法律允许范围内腾讯公司对上述内容拥有解释权。</p>
        </li>
      </ul>
    </div>
  </div>
  <div class="mp-dialog" style="display:none;">
    <div class="md-content">
      <div class="md-close"></div>
      <p class="md-message">一个用户仅能优惠购买一次哦~</p>
    </div>
  </div>

  <script src="../lib/dom-to-image.js"></script>
  <script src="../lib/prefix-umd.js"></script>
  <script src="../index.js"></script>
  <script>
    window.onload = function () {
      var simpleFO = new window.SimpleForeignObject({
        devicePixelRatio: window.devicePixelRatio,
        debug: true,
        ready: function () {
          document.addEventListener('click', function (e) {
            simpleFO.toCanvas(e.target, function (canvas) {
              simpleFO.downloadCanvasPng(canvas, new Date().getTime());
            });
          });
        }
      });
    }
  </script>
</body>

</html>